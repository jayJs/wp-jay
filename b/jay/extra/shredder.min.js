!function(){var e=function(e){var n=function(n){function t(e){return String(e||"").replace(/\W/g,"\\$&")}function a(e){if(!e)return"";var n=new RegExp("^"+t(d.prependHash)+"|"+t(d.appendHash)+"$","g");return e.replace(n,"")}function r(){var e=n.location.protocol+"//"+n.location.host,t=n.location.href;if("#"===t.charAt(e.length+1))var a=R.exec(d.getURL());else{var r=t.replace(e,""),a=[];a.push(r),a.push(r)}var i=a&&a[1]||"";try{return d.raw?i:decodeURIComponent(i)}catch(o){return i}}function i(){return m?m.contentWindow.frameHash:null}function o(){m=y.createElement("iframe"),m.src="about:blank",m.style.display="none",y.body.appendChild(m)}function c(){if(m&&f!==i()){var e=m.contentWindow.document;e.open(),e.write("<html><head><title>"+y.title+'</title><script type="text/javascript">var frameHash="'+f+'";</script></head><body>&nbsp;</body></html>'),e.close()}}function s(e,n){if(f!==e){var t=f;f=e,x&&(n?m.contentWindow.frameHash=e:c()),d.changed.dispatch(a(e),a(t))}}function p(e,n,t){e.addEventListener?e.addEventListener(n,t,!1):e.attachEvent&&e.attachEvent("on"+n,t)}function u(e,n,t){e.removeEventListener?e.removeEventListener(n,t,!1):e.detachEvent&&e.detachEvent("on"+n,t)}function h(e){e=Array.prototype.slice.call(arguments);var n=e.join(d.separator);return n=n?d.prependHash+n.replace(b,"")+d.appendHash:n}function l(e){return e=encodeURI(e),I&&z&&(e=e.replace(/\?/,"%3F")),e}var d,f,v,g,m,w,H=25,y=n.document,E=(n.history,e.Signal),R=/#(.*)$/,L=/(\?.*)|(\#.*)/,b=/^\#/,I=!1,U="onhashchange"in n&&7!==y.documentMode,x=I&&!U,z="file:"===location.protocol;return w=x?function(){var e=r(),n=i();n!==f&&n!==e?d.setHash(a(n)):e!==f&&s(e)}:function(){var e=r();e!==f&&s(e)},d={VERSION:"1.2.0",raw:!1,appendHash:"",prependHash:"/",separator:"/",changed:new E,stopped:new E,initialized:new E,init:function(){g||(f=r(),U?p(n,"hashchange",w):(x&&(m||o(),c()),v=setInterval(w,H)),g=!0,d.initialized.dispatch(a(f)))},stop:function(){g&&(U?u(n,"hashchange",w):(clearInterval(v),v=null),g=!1,d.stopped.dispatch(a(f)))},isActive:function(){return g},getURL:function(){return n.location.href},getBaseURL:function(){return d.getURL().replace(L,"")},setHash:function(e){e=h.apply(null,arguments),e!==f&&(s(e),e===f&&(d.raw||(e=l(e)),n.location.hash="#"+e))},replaceHash:function(e){e=h.apply(null,arguments),e!==f&&(s(e,!0),e===f&&(d.raw||(e=l(e)),n.location.replace("#"+e)))},getHash:function(){return a(f)},getHashAsArray:function(){return d.getHash().split(d.separator)},dispose:function(){d.stop(),d.initialized.dispose(),d.stopped.dispose(),d.changed.dispose(),m=d=n.hasher=null},toString:function(){return'[hasher version="'+d.VERSION+'" hash="'+d.getHash()+'"]'}},d.initialized.memorize=!0,d}(window);return n};"function"==typeof define&&define.amd?define(["signals"],e):"object"==typeof exports?module.exports=e(require("signals")):window.hasher=e(window.signals)}();
