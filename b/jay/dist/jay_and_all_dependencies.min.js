function cl(t){"undefined"==typeof console||console.log(t)}function ce(t){"undefined"==typeof console||console.error(t)}function a(t){$("#alert").remove(),$("body").append('<div id="alert" style="z-index: 10; margin-left: auto;  margin-right: auto; left: 0; right: 0;"><button type="button" class="close" style="opacity: 1;  z-index: 11;  position: relative; color: #fff;  margin-right: 15px; margin-top: 7px; font-size: 23pt; text-shadow: none;" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button><div id="alertMessage" class="alert alert-black alert-dismissible" role="alert">'+t+"</div></div>")}if(function(t){function e(t,e,n,i,s){this._listener=e,this._isOnce=n,this.context=i,this._signal=t,this._priority=s||0}function n(t,e){if("function"!=typeof t)throw Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",e))}function i(){this._bindings=[],this._prevParams=null;var t=this;this.dispatch=function(){i.prototype.dispatch.apply(t,arguments)}}e.prototype={active:!0,params:null,execute:function(t){var e;return this.active&&this._listener&&(t=this.params?this.params.concat(t):t,e=this._listener.apply(this.context,t),this._isOnce&&this.detach()),e},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},i.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(t,n,i,s){var o=this._indexOfListener(t,i);if(-1!==o){if(t=this._bindings[o],t.isOnce()!==n)throw Error("You cannot add"+(n?"":"Once")+"() then add"+(n?"Once":"")+"() the same listener without removing the relationship first.")}else t=new e(this,t,n,i,s),this._addBinding(t);return this.memorize&&this._prevParams&&t.execute(this._prevParams),t},_addBinding:function(t){var e=this._bindings.length;do--e;while(this._bindings[e]&&t._priority<=this._bindings[e]._priority);this._bindings.splice(e+1,0,t)},_indexOfListener:function(t,e){for(var n,i=this._bindings.length;i--;)if(n=this._bindings[i],n._listener===t&&n.context===e)return i;return-1},has:function(t,e){return-1!==this._indexOfListener(t,e)},add:function(t,e,i){return n(t,"add"),this._registerListener(t,!1,e,i)},addOnce:function(t,e,i){return n(t,"addOnce"),this._registerListener(t,!0,e,i)},remove:function(t,e){n(t,"remove");var i=this._indexOfListener(t,e);return-1!==i&&(this._bindings[i]._destroy(),this._bindings.splice(i,1)),t},removeAll:function(){for(var t=this._bindings.length;t--;)this._bindings[t]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(t){if(this.active){var e,n=Array.prototype.slice.call(arguments),i=this._bindings.length;if(this.memorize&&(this._prevParams=n),i){e=this._bindings.slice(),this._shouldPropagate=!0;do i--;while(e[i]&&this._shouldPropagate&&e[i].execute(n)!==!1)}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var s=i;s.Signal=i,"function"==typeof define&&define.amd?define(function(){return s}):"undefined"!=typeof module&&module.exports?module.exports=s:t.signals=s}(this),function(){var t=function(t){var e=function(e){function n(t){return String(t||"").replace(/\W/g,"\\$&")}function i(t){if(!t)return"";var e=new RegExp("^"+n(f.prependHash)+"|"+n(f.appendHash)+"$","g");return t.replace(e,"")}function s(){var t=x.exec(f.getURL()),e=t&&t[1]||"";try{return f.raw?e:decodeURIComponent(e)}catch(n){return e}}function o(){return v?v.contentWindow.frameHash:null}function r(){v=_.createElement("iframe"),v.src="about:blank",v.style.display="none",_.body.appendChild(v)}function a(){if(v&&p!==o()){var t=v.contentWindow.document;t.open(),t.write("<html><head><title>"+_.title+'</title><script type="text/javascript">var frameHash="'+p+'";</script></head><body>&nbsp;</body></html>'),t.close()}}function l(t,e){if(p!==t){var n=p;p=t,C&&(e?v.contentWindow.frameHash=t:a()),f.changed.dispatch(i(t),i(n))}}function c(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)}function u(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent&&t.detachEvent("on"+e,n)}function d(t){t=Array.prototype.slice.call(arguments);var e=t.join(f.separator);return e=e?f.prependHash+e.replace(k,"")+f.appendHash:e}function h(t){return t=encodeURI(t),T&&D&&(t=t.replace(/\?/,"%3F")),t}var f,p,m,g,v,y,b=25,_=e.document,w=(e.history,t.Signal),x=/#(.*)$/,$=/(\?.*)|(\#.*)/,k=/^\#/,T=!1,S="onhashchange"in e&&7!==_.documentMode,C=T&&!S,D="file:"===location.protocol;return y=C?function(){var t=s(),e=o();e!==p&&e!==t?f.setHash(i(e)):t!==p&&l(t)}:function(){var t=s();t!==p&&l(t)},f={VERSION:"1.2.0",raw:!1,appendHash:"",prependHash:"/",separator:"/",changed:new w,stopped:new w,initialized:new w,init:function(){g||(p=s(),S?c(e,"hashchange",y):(C&&(v||r(),a()),m=setInterval(y,b)),g=!0,f.initialized.dispatch(i(p)))},stop:function(){g&&(S?u(e,"hashchange",y):(clearInterval(m),m=null),g=!1,f.stopped.dispatch(i(p)))},isActive:function(){return g},getURL:function(){return e.location.href},getBaseURL:function(){return f.getURL().replace($,"")},setHash:function(t){t=d.apply(null,arguments),t!==p&&(l(t),t===p&&(f.raw||(t=h(t)),e.location.hash="#"+t))},replaceHash:function(t){t=d.apply(null,arguments),t!==p&&(l(t,!0),t===p&&(f.raw||(t=h(t)),e.location.replace("#"+t)))},getHash:function(){return i(p)},getHashAsArray:function(){return f.getHash().split(f.separator)},dispose:function(){f.stop(),f.initialized.dispose(),f.stopped.dispose(),f.changed.dispose(),v=f=e.hasher=null},toString:function(){return'[hasher version="'+f.VERSION+'" hash="'+f.getHash()+'"]'}},f.initialized.memorize=!0,f}(window);return e};"function"==typeof define&&define.amd?define(["signals"],t):"object"==typeof exports?module.exports=t(require("signals")):window.hasher=t(window.signals)}(),function(){var t=function(t){function e(t,e){if(t.indexOf)return t.indexOf(e);for(var n=t.length;n--;)if(t[n]===e)return n;return-1}function n(t,n){var i=e(t,n);-1!==i&&t.splice(i,1)}function i(t,e){return"[object "+e+"]"===Object.prototype.toString.call(t)}function s(t){return i(t,"RegExp")}function o(t){return i(t,"Array")}function r(t){return"function"==typeof t}function a(t){var e;return e=null===t||"null"===t?null:"true"===t?!0:"false"===t?!1:t===p||"undefined"===t?p:""===t||isNaN(t)?t:parseFloat(t)}function l(t){for(var e=t.length,n=[];e--;)n[e]=a(t[e]);return n}function c(t,e){for(var n,i,s=(t||"").replace("?","").split("&"),o=s.length,r={};o--;)n=s[o].split("="),i=e?a(n[1]):n[1],r[n[0]]="string"==typeof i?decodeURIComponent(i):i;return r}function u(){this.bypassed=new t.Signal,this.routed=new t.Signal,this._routes=[],this._prevRoutes=[],this._piped=[],this.resetState()}function d(e,n,i,o){var r=s(e),a=o.patternLexer;this._router=o,this._pattern=e,this._paramsIds=r?null:a.getParamIds(e),this._optionalParamsIds=r?null:a.getOptionalParamsIds(e),this._matchRegexp=r?e:a.compilePattern(e,o.ignoreCase),this.matched=new t.Signal,this.switched=new t.Signal,n&&this.matched.add(n),this._priority=i||0}var h,f,p;return f=""===/t(.+)?/.exec("t")[1],u.prototype={greedy:!1,greedyEnabled:!0,ignoreCase:!0,ignoreState:!1,shouldTypecast:!1,normalizeFn:null,resetState:function(){this._prevRoutes.length=0,this._prevMatchedRequest=null,this._prevBypassedRequest=null},create:function(){return new u},addRoute:function(t,e,n){var i=new d(t,e,n,this);return this._sortedInsert(i),i},removeRoute:function(t){n(this._routes,t),t._destroy()},removeAllRoutes:function(){for(var t=this.getNumRoutes();t--;)this._routes[t]._destroy();this._routes.length=0},parse:function(t,e){if(t=t||"",e=e||[],this.ignoreState||t!==this._prevMatchedRequest&&t!==this._prevBypassedRequest){var n,i=this._getMatchedRoutes(t),s=0,o=i.length;if(o)for(this._prevMatchedRequest=t,this._notifyPrevRoutes(i,t),this._prevRoutes=i;o>s;)n=i[s],n.route.matched.dispatch.apply(n.route.matched,e.concat(n.params)),n.isFirst=!s,this.routed.dispatch.apply(this.routed,e.concat([t,n])),s+=1;else this._prevBypassedRequest=t,this.bypassed.dispatch.apply(this.bypassed,e.concat([t]));this._pipeParse(t,e)}},_notifyPrevRoutes:function(t,e){for(var n,i=0;n=this._prevRoutes[i++];)n.route.switched&&this._didSwitch(n.route,t)&&n.route.switched.dispatch(e)},_didSwitch:function(t,e){for(var n,i=0;n=e[i++];)if(n.route===t)return!1;return!0},_pipeParse:function(t,e){for(var n,i=0;n=this._piped[i++];)n.parse(t,e)},getNumRoutes:function(){return this._routes.length},_sortedInsert:function(t){var e=this._routes,n=e.length;do--n;while(e[n]&&t._priority<=e[n]._priority);e.splice(n+1,0,t)},_getMatchedRoutes:function(t){for(var e,n=[],i=this._routes,s=i.length;(e=i[--s])&&((!n.length||this.greedy||e.greedy)&&e.match(t)&&n.push({route:e,params:e._getParamsArray(t)}),this.greedyEnabled||!n.length););return n},pipe:function(t){this._piped.push(t)},unpipe:function(t){n(this._piped,t)},toString:function(){return"[crossroads numRoutes:"+this.getNumRoutes()+"]"}},h=new u,h.VERSION="0.12.0",h.NORM_AS_ARRAY=function(t,e){return[e.vals_]},h.NORM_AS_OBJECT=function(t,e){return[e]},d.prototype={greedy:!1,rules:void 0,match:function(t){return t=t||"",this._matchRegexp.test(t)&&this._validateParams(t)},_validateParams:function(t){var e,n=this.rules,i=this._getParamsObject(t);for(e in n)if("normalize_"!==e&&n.hasOwnProperty(e)&&!this._isValidParam(t,e,i))return!1;return!0},_isValidParam:function(t,n,i){var a=this.rules[n],l=i[n],c=!1,u=0===n.indexOf("?");return null==l&&this._optionalParamsIds&&-1!==e(this._optionalParamsIds,n)?c=!0:s(a)?(u&&(l=i[n+"_"]),c=a.test(l)):o(a)?(u&&(l=i[n+"_"]),c=this._isValidArrayRule(a,l)):r(a)&&(c=a(l,t,i)),c},_isValidArrayRule:function(t,n){if(!this._router.ignoreCase)return-1!==e(t,n);"string"==typeof n&&(n=n.toLowerCase());for(var i,s,o=t.length;o--;)if(i=t[o],s="string"==typeof i?i.toLowerCase():i,s===n)return!0;return!1},_getParamsObject:function(t){for(var n,i,s=this._router.shouldTypecast,o=this._router.patternLexer.getParamValues(t,this._matchRegexp,s),r={},l=o.length;l--;)i=o[l],this._paramsIds&&(n=this._paramsIds[l],0===n.indexOf("?")&&i&&(r[n+"_"]=i,i=c(i,s),o[l]=i),f&&""===i&&-1!==e(this._optionalParamsIds,n)&&(i=void 0,o[l]=i),r[n]=i),r[l]=i;return r.request_=s?a(t):t,r.vals_=o,r},_getParamsArray:function(t){var e,n=this.rules?this.rules.normalize_:null;return n=n||this._router.normalizeFn,e=n&&r(n)?n(t,this._getParamsObject(t)):this._getParamsObject(t).vals_},interpolate:function(t){var e=this._router.patternLexer.interpolate(this._pattern,t);if(!this._validateParams(e))throw new Error("Generated string doesn't validate against `Route.rules`.");return e},dispose:function(){this._router.removeRoute(this)},_destroy:function(){this.matched.dispose(),this.switched.dispose(),this.matched=this.switched=this._pattern=this._matchRegexp=null},toString:function(){return'[Route pattern:"'+this._pattern+'", numListeners:'+this.matched.getNumListeners()+"]"}},u.prototype.patternLexer=function(){function t(){var t,e;for(t in f)f.hasOwnProperty(t)&&(e=f[t],e.id="__CR_"+t+"__",e.save="save"in e?e.save.replace("{{id}}",e.id):e.id,e.rRestore=new RegExp(e.id,"g"))}function e(t,e){var n,i=[];for(t.lastIndex=0;n=t.exec(e);)i.push(n[1]);return i}function n(t){return e(h,t)}function i(t){return e(f.OP.rgx,t)}function s(t,e){return t=t||"",t&&(v===p?t=t.replace(u,""):v===g&&(t=t.replace(d,"")),t=o(t,"rgx","save"),t=t.replace(c,"\\$&"),t=o(t,"rRestore","res"),v===p&&(t="\\/?"+t)),v!==m&&(t+="\\/?"),new RegExp("^"+t+"$",e?"i":"")}function o(t,e,n){var i,s;for(s in f)f.hasOwnProperty(s)&&(i=f[s],t=t.replace(i[e],i[n]));return t}function r(t,e,n){var i=e.exec(t);return i&&(i.shift(),n&&(i=l(i))),i}function a(t,e){if("string"!=typeof t)throw new Error("Route pattern should be a string.");var n=function(t,n){var i;if(n="?"===n.substr(0,1)?n.substr(1):n,null!=e[n]){if("object"==typeof e[n]){var s=[];for(var o in e[n])s.push(encodeURI(o+"="+e[n][o]));i="?"+s.join("&")}else i=String(e[n]);if(-1===t.indexOf("*")&&-1!==i.indexOf("/"))throw new Error('Invalid value "'+i+'" for segment "'+t+'".')}else{if(-1!==t.indexOf("{"))throw new Error("The segment "+t+" is required.");i=""}return i};return f.OS.trail||(f.OS.trail=new RegExp("(?:"+f.OS.id+")+$")),t.replace(f.OS.rgx,f.OS.save).replace(h,n).replace(f.OS.trail,"").replace(f.OS.rRestore,"/")}var c=/[\\.+*?\^$\[\](){}\/'#]/g,u=/^\/|\/$/g,d=/\/$/g,h=/(?:\{|:)([^}:]+)(?:\}|:)/g,f={OS:{rgx:/([:}]|\w(?=\/))\/?(:|(?:\{\?))/g,save:"$1{{id}}$2",res:"\\/?"},RS:{rgx:/([:}])\/?(\{)/g,save:"$1{{id}}$2",res:"\\/"},RQ:{rgx:/\{\?([^}]+)\}/g,res:"\\?([^#]+)"},OQ:{rgx:/:\?([^:]+):/g,res:"(?:\\?([^#]*))?"},OR:{rgx:/:([^:]+)\*:/g,res:"(.*)?"},RR:{rgx:/\{([^}]+)\*\}/g,res:"(.+)"},RP:{rgx:/\{([^}]+)\}/g,res:"([^\\/?]+)"},OP:{rgx:/:([^:]+):/g,res:"([^\\/?]+)?/?"}},p=1,m=2,g=3,v=p;return t(),{strict:function(){v=m},loose:function(){v=p},legacy:function(){v=g},getParamIds:n,getOptionalParamsIds:i,getParamValues:r,compilePattern:s,interpolate:a}}(),h};"function"==typeof define&&define.amd?define(["signals"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("signals")):window.crossroads=t(window.signals)}(),!function(t,e){function n(t,e){var n=t.createElement("p"),i=t.getElementsByTagName("head")[0]||t.documentElement;return n.innerHTML="x<style>"+e+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var t=b.elements;return"string"==typeof t?t.split(" "):t}function s(t,e){var n=b.elements;"string"!=typeof n&&(n=n.join(" ")),"string"!=typeof t&&(t=t.join(" ")),b.elements=n+" "+t,c(e)}function o(t){var e=y[t[g]];return e||(e={},v++,t[g]=v,y[v]=e),e}function r(t,n,i){if(n||(n=e),d)return n.createElement(t);i||(i=o(n));var s;return s=i.cache[t]?i.cache[t].cloneNode():m.test(t)?(i.cache[t]=i.createElem(t)).cloneNode():i.createElem(t),!s.canHaveChildren||p.test(t)||s.tagUrn?s:i.frag.appendChild(s)}function a(t,n){if(t||(t=e),d)return t.createDocumentFragment();n=n||o(t);for(var s=n.frag.cloneNode(),r=0,a=i(),l=a.length;l>r;r++)s.createElement(a[r]);return s}function l(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(n){return b.shivMethods?r(n,t,e):e.createElem(n)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/[\w\-:]+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(b,e.frag)}function c(t){t||(t=e);var i=o(t);return!b.shivCSS||u||i.hasCSS||(i.hasCSS=!!n(t,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),d||l(t,i),t}var u,d,h="3.7.2",f=t.html5||{},p=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,m=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g="_html5shiv",v=0,y={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",u="hidden"in t,d=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return"undefined"==typeof t.cloneNode||"undefined"==typeof t.createDocumentFragment||"undefined"==typeof t.createElement}()}catch(n){u=!0,d=!0}}();var b={elements:f.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:h,shivCSS:f.shivCSS!==!1,supportsUnknownElements:d,shivMethods:f.shivMethods!==!1,type:"default",shivDocument:c,createElement:r,createDocumentFragment:a,addElements:s};t.html5=b,c(e)}(this,document),!function(t){"use strict";t.matchMedia=t.matchMedia||function(t){var e,n=t.documentElement,i=n.firstElementChild||n.firstChild,s=t.createElement("body"),o=t.createElement("div");return o.id="mq-test-1",o.style.cssText="position:absolute;top:-100em",s.style.background="none",s.appendChild(o),function(t){return o.innerHTML='&shy;<style media="'+t+'"> #mq-test-1 { width: 42px; }</style>',n.insertBefore(s,i),e=42===o.offsetWidth,n.removeChild(s),{matches:e,media:t}}}(t.document)}(this),function(t){"use strict";function e(){_(!0)}var n={};t.respond=n,n.update=function(){};var i=[],s=function(){var e=!1;try{e=new t.XMLHttpRequest}catch(n){e=new t.ActiveXObject("Microsoft.XMLHTTP")}return function(){return e}}(),o=function(t,e){var n=s();n&&(n.open("GET",t,!0),n.onreadystatechange=function(){4!==n.readyState||200!==n.status&&304!==n.status||e(n.responseText)},4!==n.readyState&&n.send(null))};if(n.ajax=o,n.queue=i,n.regex={media:/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi,keyframes:/@(?:\-(?:o|moz|webkit)\-)?keyframes[^\{]+\{(?:[^\{\}]*\{[^\}\{]*\})+[^\}]*\}/gi,urls:/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,findStyles:/@media *([^\{]+)\{([\S\s]+?)$/,only:/(only\s+)?([a-zA-Z]+)\s?/,minw:/\([\s]*min\-width\s*:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/,maxw:/\([\s]*max\-width\s*:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/},n.mediaQueriesSupported=t.matchMedia&&null!==t.matchMedia("only all")&&t.matchMedia("only all").matches,!n.mediaQueriesSupported){var r,a,l,c=t.document,u=c.documentElement,d=[],h=[],f=[],p={},m=30,g=c.getElementsByTagName("head")[0]||u,v=c.getElementsByTagName("base")[0],y=g.getElementsByTagName("link"),b=function(){var t,e=c.createElement("div"),n=c.body,i=u.style.fontSize,s=n&&n.style.fontSize,o=!1;return e.style.cssText="position:absolute;font-size:1em;width:1em",n||(n=o=c.createElement("body"),n.style.background="none"),u.style.fontSize="100%",n.style.fontSize="100%",n.appendChild(e),o&&u.insertBefore(n,u.firstChild),t=e.offsetWidth,o?u.removeChild(n):n.removeChild(e),u.style.fontSize=i,s&&(n.style.fontSize=s),t=l=parseFloat(t)},_=function(e){var n="clientWidth",i=u[n],s="CSS1Compat"===c.compatMode&&i||c.body[n]||i,o={},p=y[y.length-1],v=(new Date).getTime();if(e&&r&&m>v-r)return t.clearTimeout(a),void(a=t.setTimeout(_,m));r=v;for(var w in d)if(d.hasOwnProperty(w)){var x=d[w],$=x.minw,k=x.maxw,T=null===$,S=null===k,C="em";$&&($=parseFloat($)*($.indexOf(C)>-1?l||b():1)),k&&(k=parseFloat(k)*(k.indexOf(C)>-1?l||b():1)),x.hasquery&&(T&&S||!(T||s>=$)||!(S||k>=s))||(o[x.media]||(o[x.media]=[]),o[x.media].push(h[x.rules]))}for(var D in f)f.hasOwnProperty(D)&&f[D]&&f[D].parentNode===g&&g.removeChild(f[D]);f.length=0;for(var M in o)if(o.hasOwnProperty(M)){var E=c.createElement("style"),O=o[M].join("\n");E.type="text/css",E.media=M,g.insertBefore(E,p.nextSibling),E.styleSheet?E.styleSheet.cssText=O:E.appendChild(c.createTextNode(O)),f.push(E)}},w=function(t,e,i){var s=t.replace(n.regex.keyframes,"").match(n.regex.media),o=s&&s.length||0;e=e.substring(0,e.lastIndexOf("/"));var r=function(t){return t.replace(n.regex.urls,"$1"+e+"$2$3")},a=!o&&i;e.length&&(e+="/"),a&&(o=1);for(var l=0;o>l;l++){var c,u,f,p;a?(c=i,h.push(r(t))):(c=s[l].match(n.regex.findStyles)&&RegExp.$1,h.push(RegExp.$2&&r(RegExp.$2))),f=c.split(","),p=f.length;for(var m=0;p>m;m++)u=f[m],d.push({media:u.split("(")[0].match(n.regex.only)&&RegExp.$2||"all",rules:h.length-1,hasquery:u.indexOf("(")>-1,minw:u.match(n.regex.minw)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:u.match(n.regex.maxw)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}_()},x=function(){if(i.length){var e=i.shift();o(e.href,function(n){w(n,e.href,e.media),p[e.href]=!0,t.setTimeout(function(){x()},0)})}},$=function(){for(var e=0;e<y.length;e++){var n=y[e],s=n.href,o=n.media,r=n.rel&&"stylesheet"===n.rel.toLowerCase();s&&r&&!p[s]&&(n.styleSheet&&n.styleSheet.rawCssText?(w(n.styleSheet.rawCssText,s,o),p[s]=!0):(!/^([a-zA-Z:]*\/\/)/.test(s)&&!v||s.replace(RegExp.$1,"").split("/")[0]===t.location.host)&&("//"===s.substring(0,2)&&(s=t.location.protocol+s),i.push({href:s,media:o})))}x()};$(),n.update=$,n.getEmValue=b,t.addEventListener?t.addEventListener("resize",e,!1):t.attachEvent&&t.attachEvent("onresize",e)}}(this),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one("bsTransitionEnd",function(){n=!0});var s=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(s,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.alert");s||n.data("bs.alert",s=new i(this)),"string"==typeof e&&s[e].call(n)})}var n='[data-dismiss="alert"]',i=function(e){t(e).on("click",n,this.close)};i.VERSION="3.2.0",i.prototype.close=function(e){function n(){o.detach().trigger("closed.bs.alert").remove()}var i=t(this),s=i.attr("data-target");s||(s=i.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var o=t(s);e&&e.preventDefault(),o.length||(o=i.hasClass("alert")?i:i.parent()),o.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(150):n())};var s=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=s,this},t(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),s=i.data("bs.button"),o="object"==typeof e&&e;s||i.data("bs.button",s=new n(this,o)),"toggle"==e?s.toggle():e&&s.setState(e)})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.2.0",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",i=this.$element,s=i.is("input")?"val":"html",o=i.data();e+="Text",null==o.resetText&&i.data("resetText",i[s]()),i[s](null==o[e]?this.options[e]:o[e]),setTimeout(t.proxy(function(){"loadingText"==e?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}t&&this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=t(n.target);i.hasClass("btn")||(i=i.closest(".btn")),e.call(i,"toggle"),n.preventDefault()})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),s=i.data("bs.carousel"),o=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e),r="string"==typeof e?e:o.slide;s||i.data("bs.carousel",s=new n(this,o)),"number"==typeof e?s.to(e):r?s[r]():o.interval&&s.pause().cycle()})}var n=function(e,n){this.$element=t(e).on("keydown.bs.carousel",t.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.2.0",n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},n.prototype.keydown=function(t){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.to=function(e){var n=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(e)}):i==e?this.pause().cycle():this.slide(e>i?"next":"prev",t(this.$items[e]))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(e,n){var i=this.$element.find(".item.active"),s=n||i[e](),o=this.interval,r="next"==e?"left":"right",a="next"==e?"first":"last",l=this;if(!s.length){if(!this.options.wrap)return;s=this.$element.find(".item")[a]()}if(s.hasClass("active"))return this.sliding=!1;var c=s[0],u=t.Event("slide.bs.carousel",{relatedTarget:c,direction:r});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=t(this.$indicators.children()[this.getItemIndex(s)]);d&&d.addClass("active")}var h=t.Event("slid.bs.carousel",{relatedTarget:c,direction:r});return t.support.transition&&this.$element.hasClass("slide")?(s.addClass(e),s[0].offsetWidth,i.addClass(r),s.addClass(r),i.one("bsTransitionEnd",function(){s.removeClass([e,r].join(" ")).addClass("active"),i.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(h)},0)}).emulateTransitionEnd(1e3*i.css("transition-duration").slice(0,-1))):(i.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(h)),o&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(n){var i,s=t(this),o=t(s.attr("data-target")||(i=s.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var r=t.extend({},o.data(),s.data()),a=s.attr("data-slide-to");a&&(r.interval=!1),e.call(o,r),a&&o.data("bs.carousel").to(a),n.preventDefault()}}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),s=i.data("bs.collapse"),o=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);!s&&o.toggle&&"show"==e&&(e=!e),s||i.data("bs.collapse",s=new n(this,o)),"string"==typeof e&&s[e]()})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};n.VERSION="3.2.0",n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var n=t.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){var i=this.$parent&&this.$parent.find("> .panel > .in");if(i&&i.length){var s=i.data("bs.collapse");if(s&&s.transitioning)return;e.call(i,"hide"),s||i.data("bs.collapse",null)}var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return r.call(this);var a=t.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(350)[o](this.$element[0][a])}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(i,this)).emulateTransitionEnd(350):i.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var i=t.fn.collapse;t.fn.collapse=e,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var i,s=t(this),o=s.attr("data-target")||n.preventDefault()||(i=s.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),r=t(o),a=r.data("bs.collapse"),l=a?"toggle":s.data(),c=s.attr("data-parent"),u=c&&t(c);a&&a.transitioning||(u&&u.find('[data-toggle="collapse"][data-parent="'+c+'"]').not(s).addClass("collapsed"),s[r.hasClass("in")?"addClass":"removeClass"]("collapsed")),e.call(r,l)})}(jQuery),+function(t){"use strict";function e(e){e&&3===e.which||(t(s).remove(),t(o).each(function(){var i=n(t(this)),s={relatedTarget:this};i.hasClass("open")&&(i.trigger(e=t.Event("hide.bs.dropdown",s)),e.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.dropdown",s))}))}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}function i(e){return this.each(function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new r(this)),"string"==typeof e&&i[e].call(n)})}var s=".dropdown-backdrop",o='[data-toggle="dropdown"]',r=function(e){t(e).on("click.bs.dropdown",this.toggle)};r.VERSION="3.2.0",r.prototype.toggle=function(i){var s=t(this);if(!s.is(".disabled, :disabled")){var o=n(s),r=o.hasClass("open");if(e(),!r){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var a={relatedTarget:this};if(o.trigger(i=t.Event("show.bs.dropdown",a)),i.isDefaultPrevented())return;s.trigger("focus"),o.toggleClass("open").trigger("shown.bs.dropdown",a)}return!1}},r.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var i=t(this);if(e.preventDefault(),e.stopPropagation(),!i.is(".disabled, :disabled")){var s=n(i),r=s.hasClass("open");if(!r||r&&27==e.keyCode)return 27==e.which&&s.find(o).trigger("focus"),i.trigger("click");var a=" li:not(.divider):visible a",l=s.find('[role="menu"]'+a+', [role="listbox"]'+a);if(l.length){var c=l.index(l.filter(":focus"));38==e.keyCode&&c>0&&c--,40==e.keyCode&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=i,t.fn.dropdown.Constructor=r,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,r.prototype.toggle).on("keydown.bs.dropdown.data-api",o+', [role="menu"], [role="listbox"]',r.prototype.keydown);

}(jQuery),+function(t){"use strict";function e(e,i){return this.each(function(){var s=t(this),o=s.data("bs.modal"),r=t.extend({},n.DEFAULTS,s.data(),"object"==typeof e&&e);o||s.data("bs.modal",o=new n(this,r)),"string"==typeof e?o[e](i):r.show&&o.show(i)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.2.0",n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var n=this,i=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var i=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),i&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var s=t.Event("shown.bs.modal",{relatedTarget:e});i?n.$element.find(".modal-dialog").one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(300):n.$element.trigger("focus").trigger(s)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var n=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=t.support.transition&&i;if(this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;s?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(150):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(150):o()}else e&&e()},n.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=t(this),s=i.attr("href"),o=t(i.attr("data-target")||s&&s.replace(/.*(?=#[^\s]+$)/,"")),r=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(s)&&s},o.data(),i.data());i.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),e.call(o,r,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),s=i.data("bs.tooltip"),o="object"==typeof e&&e;(s||"destroy"!=e)&&(s||i.data("bs.tooltip",s=new n(this,o)),"string"==typeof e&&s[e]())})}var n=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};n.VERSION="3.2.0",n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,i){this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport);for(var s=this.options.trigger.split(" "),o=s.length;o--;){var r=s[o];if("click"==r)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=r){var a="hover"==r?"mouseenter":"focusin",l="hover"==r?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show()},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(document.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var i=this,s=this.tip(),o=this.getUID(this.type);this.setContent(),s.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&s.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,l=a.test(r);l&&(r=r.replace(a,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element);var c=this.getPosition(),u=s[0].offsetWidth,d=s[0].offsetHeight;if(l){var h=r,f=this.$element.parent(),p=this.getPosition(f);r="bottom"==r&&c.top+c.height+d-p.scroll>p.height?"top":"top"==r&&c.top-p.scroll-d<0?"bottom":"right"==r&&c.right+u>p.width?"left":"left"==r&&c.left-u<p.left?"right":r,s.removeClass(h).addClass(r)}var m=this.getCalculatedOffset(r,c,u,d);this.applyPlacement(m,r);var g=function(){i.$element.trigger("shown.bs."+i.type),i.hoverState=null};t.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",g).emulateTransitionEnd(150):g()}},n.prototype.applyPlacement=function(e,n){var i=this.tip(),s=i[0].offsetWidth,o=i[0].offsetHeight,r=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(a)&&(a=0),e.top=e.top+r,e.left=e.left+a,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=o&&(e.top=e.top+o-c);var u=this.getViewportAdjustedDelta(n,e,l,c);u.left?e.left+=u.left:e.top+=u.top;var d=u.left?2*u.left-s+l:2*u.top-o+c,h=u.left?"left":"top",f=u.left?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(d,i[0][f],h)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(){function e(){"in"!=n.hoverState&&i.detach(),n.$element.trigger("hidden.bs."+n.type)}var n=this,i=this.tip(),s=t.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(s),s.isDefaultPrevented()?void 0:(i.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",e).emulateTransitionEnd(150):e(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],i="BODY"==n.tagName;return t.extend({},"function"==typeof n.getBoundingClientRect?n.getBoundingClientRect():null,{scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop(),width:i?t(window).width():e.outerWidth(),height:i?t(window).height():e.outerHeight()},i?{top:0,left:0}:e.offset())},n.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,i){var s={top:0,left:0};if(!this.$viewport)return s;var o=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-o-r.scroll,l=e.top+o-r.scroll+i;a<r.top?s.top=r.top-a:l>r.top+r.height&&(s.top=r.top+r.height-l)}else{var c=e.left-o,u=e.left+o+n;c<r.left?s.left=r.left-c:u>r.width&&(s.left=r.left+r.width-u)}return s},n.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},n.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},n.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&(n=t(e.currentTarget).data("bs."+this.type),n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),s=i.data("bs.popover"),o="object"==typeof e&&e;(s||"destroy"!=e)&&(s||i.data("bs.popover",s=new n(this,o)),"string"==typeof e&&s[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.2.0",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").empty()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},n.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var i=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),+function(t){"use strict";function e(n,i){var s=t.proxy(this.process,this);this.$body=t("body"),this.$scrollElement=t(t(n).is("body")?window:n),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",s),this.refresh(),this.process()}function n(n){return this.each(function(){var i=t(this),s=i.data("bs.scrollspy"),o="object"==typeof n&&n;s||i.data("bs.scrollspy",s=new e(this,o)),"string"==typeof n&&s[n]()})}e.VERSION="3.2.0",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e="offset",n=0;t.isWindow(this.$scrollElement[0])||(e="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var i=this;this.$body.find(this.selector).map(function(){var i=t(this),s=i.data("target")||i.attr("href"),o=/^#./.test(s)&&t(s);return o&&o.length&&o.is(":visible")&&[[o[e]().top+n,s]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),s=this.offsets,o=this.targets,r=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=i)return r!=(t=o[o.length-1])&&this.activate(t);if(r&&e<=s[0])return r!=(t=o[0])&&this.activate(t);for(t=s.length;t--;)r!=o[t]&&e>=s[t]&&(!s[t+1]||e<=s[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")};var i=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),s=i.data("bs.tab");s||i.data("bs.tab",s=new n(this)),"string"==typeof e&&s[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.2.0",n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var s=n.find(".active:last a")[0],o=t.Event("show.bs.tab",{relatedTarget:s});if(e.trigger(o),!o.isDefaultPrevented()){var r=t(i);this.activate(e.closest("li"),n),this.activate(r,r.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:s})})}}},n.prototype.activate=function(e,n,i){function s(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),i&&i()}var o=n.find("> .active"),r=i&&t.support.transition&&o.hasClass("fade");r?o.one("bsTransitionEnd",s).emulateTransitionEnd(150):s(),o.removeClass("in")};var i=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=i,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(n){n.preventDefault(),e.call(t(this),"show")})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),s=i.data("bs.affix"),o="object"==typeof e&&e;s||i.data("bs.affix",s=new n(this,o)),"string"==typeof e&&s[e]()})}var n=function(e,i){this.options=t.extend({},n.DEFAULTS,i),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.2.0",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=t(document).height(),i=this.$target.scrollTop(),s=this.$element.offset(),o=this.options.offset,r=o.top,a=o.bottom;"object"!=typeof o&&(a=r=o),"function"==typeof r&&(r=o.top(this.$element)),"function"==typeof a&&(a=o.bottom(this.$element));var l=null!=this.unpin&&i+this.unpin<=s.top?!1:null!=a&&s.top+this.$element.height()>=e-a?"bottom":null!=r&&r>=i?"top":!1;if(this.affixed!==l){null!=this.unpin&&this.$element.css("top","");var c="affix"+(l?"-"+l:""),u=t.Event(c+".bs.affix");this.$element.trigger(u),u.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(c).trigger(t.Event(c.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:e-this.$element.height()-a}))}}};var i=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),i=n.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),e.call(n,i)})})}(jQuery),function(t){function e(t,e,n){switch(arguments.length){case 2:return null!=t?t:e;case 3:return null!=t?t:null!=e?e:n;default:throw new Error("Implement me")}}function n(t,e){return Tt.call(t,e)}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function s(t){bt.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function o(t,e){var n=!0;return h(function(){return n&&(s(t),n=!1),e.apply(this,arguments)},e)}function r(t,e){ge[t]||(s(e),ge[t]=!0)}function a(t,e){return function(n){return m(t.call(this,n),e)}}function l(t,e){return function(n){return this.localeData().ordinal(t.call(this,n),e)}}function c(){}function u(t,e){e!==!1&&O(t),f(this,t),this._d=new Date(+t._d)}function d(t){var e=k(t),n=e.year||0,i=e.quarter||0,s=e.month||0,o=e.week||0,r=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+36e5*a,this._days=+r+7*o,this._months=+s+3*i+12*n,this._data={},this._locale=bt.localeData(),this._bubble()}function h(t,e){for(var i in e)n(e,i)&&(t[i]=e[i]);return n(e,"toString")&&(t.toString=e.toString),n(e,"valueOf")&&(t.valueOf=e.valueOf),t}function f(t,e){var n,i,s;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=e._pf),"undefined"!=typeof e._locale&&(t._locale=e._locale),It.length>0)for(n in It)i=It[n],s=e[i],"undefined"!=typeof s&&(t[i]=s);return t}function p(t){return 0>t?Math.ceil(t):Math.floor(t)}function m(t,e,n){for(var i=""+Math.abs(t),s=t>=0;i.length<e;)i="0"+i;return(s?n?"+":"":"-")+i}function g(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function v(t,e){var n;return e=R(e,t),t.isBefore(e)?n=g(t,e):(n=g(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function y(t,e){return function(n,i){var s,o;return null===i||isNaN(+i)||(r(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),o=n,n=i,i=o),n="string"==typeof n?+n:n,s=bt.duration(n,i),b(this,s,t),this}}function b(t,e,n,i){var s=e._milliseconds,o=e._days,r=e._months;i=null==i?!0:i,s&&t._d.setTime(+t._d+s*n),o&&ft(t,"Date",ht(t,"Date")+o*n),r&&dt(t,ht(t,"Month")+r*n),i&&bt.updateOffset(t,o||r)}function _(t){return"[object Array]"===Object.prototype.toString.call(t)}function w(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function x(t,e,n){var i,s=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),r=0;for(i=0;s>i;i++)(n&&t[i]!==e[i]||!n&&S(t[i])!==S(e[i]))&&r++;return r+o}function $(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=ce[t]||ue[e]||e}return t}function k(t){var e,i,s={};for(i in t)n(t,i)&&(e=$(i),e&&(s[e]=t[i]));return s}function T(e){var n,i;if(0===e.indexOf("week"))n=7,i="day";else{if(0!==e.indexOf("month"))return;n=12,i="month"}bt[e]=function(s,o){var r,a,l=bt._locale[e],c=[];if("number"==typeof s&&(o=s,s=t),a=function(t){var e=bt().utc().set(i,t);return l.call(bt._locale,e,s||"")},null!=o)return a(o);for(r=0;n>r;r++)c.push(a(r));return c}}function S(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=e>=0?Math.floor(e):Math.ceil(e)),n}function C(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function D(t,e,n){return at(bt([t,11,31+e-n]),e,n).week}function M(t){return E(t)?366:365}function E(t){return t%4===0&&t%100!==0||t%400===0}function O(t){var e;t._a&&-2===t._pf.overflow&&(e=t._a[Ct]<0||t._a[Ct]>11?Ct:t._a[Dt]<1||t._a[Dt]>C(t._a[St],t._a[Ct])?Dt:t._a[Mt]<0||t._a[Mt]>24||24===t._a[Mt]&&(0!==t._a[Et]||0!==t._a[Ot]||0!==t._a[Pt])?Mt:t._a[Et]<0||t._a[Et]>59?Et:t._a[Ot]<0||t._a[Ot]>59?Ot:t._a[Pt]<0||t._a[Pt]>999?Pt:-1,t._pf._overflowDayOfYear&&(St>e||e>Dt)&&(e=Dt),t._pf.overflow=e)}function P(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length&&e._pf.bigHour===t)),e._isValid}function Y(t){return t?t.toLowerCase().replace("_","-"):t}function I(t){for(var e,n,i,s,o=0;o<t.length;){for(s=Y(t[o]).split("-"),e=s.length,n=Y(t[o+1]),n=n?n.split("-"):null;e>0;){if(i=L(s.slice(0,e).join("-")))return i;if(n&&n.length>=e&&x(s,n,!0)>=e-1)break;e--}o++}return null}function L(t){var e=null;if(!Yt[t]&&Lt)try{e=bt.locale(),require("./locale/"+t),bt.locale(e)}catch(n){}return Yt[t]}function R(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(bt.isMoment(t)||w(t)?+t:+bt(t))-+n,n._d.setTime(+n._d+i),bt.updateOffset(n,!1),n):bt(t).local()}function F(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function A(t){var e,n,i=t.match(jt);for(e=0,n=i.length;n>e;e++)i[e]=me[i[e]]?me[i[e]]:F(i[e]);return function(s){var o="";for(e=0;n>e;e++)o+=i[e]instanceof Function?i[e].call(s,t):i[e];return o}}function j(t,e){return t.isValid()?(e=U(e,t.localeData()),de[e]||(de[e]=A(e)),de[e](t)):t.localeData().invalidDate()}function U(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(Ut.lastIndex=0;i>=0&&Ut.test(t);)t=t.replace(Ut,n),Ut.lastIndex=0,i-=1;return t}function W(t,e){var n,i=e._strict;switch(t){case"Q":return Zt;case"DDDD":return Kt;case"YYYY":case"GGGG":case"gggg":return i?te:Ht;case"Y":case"G":case"g":return ne;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?ee:Bt;case"S":if(i)return Zt;case"SS":if(i)return Xt;case"SSS":if(i)return Kt;case"DDD":return zt;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Nt;case"a":case"A":return e._locale._meridiemParse;case"x":return Vt;case"X":return Qt;case"Z":case"ZZ":return qt;case"T":return Jt;case"SSSS":return Gt;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?Xt:Wt;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Wt;case"Do":return i?e._locale._ordinalParse:e._locale._ordinalParseLenient;default:return n=new RegExp(Q(V(t.replace("\\","")),"i"))}}function z(t){t=t||"";var e=t.match(qt)||[],n=e[e.length-1]||[],i=(n+"").match(ae)||["-",0,0],s=+(60*i[1])+S(i[2]);return"+"===i[0]?-s:s}function H(t,e,n){var i,s=n._a;switch(t){case"Q":null!=e&&(s[Ct]=3*(S(e)-1));break;case"M":case"MM":null!=e&&(s[Ct]=S(e)-1);break;case"MMM":case"MMMM":i=n._locale.monthsParse(e,t,n._strict),null!=i?s[Ct]=i:n._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(s[Dt]=S(e));break;case"Do":null!=e&&(s[Dt]=S(parseInt(e.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=e&&(n._dayOfYear=S(e));break;case"YY":s[St]=bt.parseTwoDigitYear(e);break;case"YYYY":case"YYYYY":case"YYYYYY":s[St]=S(e);break;case"a":case"A":n._isPm=n._locale.isPM(e);break;case"h":case"hh":n._pf.bigHour=!0;case"H":case"HH":s[Mt]=S(e);break;case"m":case"mm":s[Et]=S(e);break;case"s":case"ss":s[Ot]=S(e);break;case"S":case"SS":case"SSS":case"SSSS":s[Pt]=S(1e3*("0."+e));break;case"x":n._d=new Date(S(e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=z(e);break;case"dd":case"ddd":case"dddd":i=n._locale.weekdaysParse(e),null!=i?(n._w=n._w||{},n._w.d=i):n._pf.invalidWeekday=e;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":t=t.substr(0,1);case"gggg":case"GGGG":case"GGGGG":t=t.substr(0,2),e&&(n._w=n._w||{},n._w[t]=S(e));break;case"gg":case"GG":n._w=n._w||{},n._w[t]=bt.parseTwoDigitYear(e)}}function B(t){var n,i,s,o,r,a,l;n=t._w,null!=n.GG||null!=n.W||null!=n.E?(r=1,a=4,i=e(n.GG,t._a[St],at(bt(),1,4).year),s=e(n.W,1),o=e(n.E,1)):(r=t._locale._week.dow,a=t._locale._week.doy,i=e(n.gg,t._a[St],at(bt(),r,a).year),s=e(n.w,1),null!=n.d?(o=n.d,r>o&&++s):o=null!=n.e?n.e+r:r),l=lt(i,s,o,a,r),t._a[St]=l.year,t._dayOfYear=l.dayOfYear}function G(t){var n,i,s,o,r=[];if(!t._d){for(s=q(t),t._w&&null==t._a[Dt]&&null==t._a[Ct]&&B(t),t._dayOfYear&&(o=e(t._a[St],s[St]),t._dayOfYear>M(o)&&(t._pf._overflowDayOfYear=!0),i=it(o,0,t._dayOfYear),t._a[Ct]=i.getUTCMonth(),t._a[Dt]=i.getUTCDate()),n=0;3>n&&null==t._a[n];++n)t._a[n]=r[n]=s[n];for(;7>n;n++)t._a[n]=r[n]=null==t._a[n]?2===n?1:0:t._a[n];24===t._a[Mt]&&0===t._a[Et]&&0===t._a[Ot]&&0===t._a[Pt]&&(t._nextDay=!0,t._a[Mt]=0),t._d=(t._useUTC?it:nt).apply(null,r),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()+t._tzm),t._nextDay&&(t._a[Mt]=24)}}function N(t){var e;t._d||(e=k(t._i),t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],G(t))}function q(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function J(e){if(e._f===bt.ISO_8601)return void X(e);e._a=[],e._pf.empty=!0;var n,i,s,o,r,a=""+e._i,l=a.length,c=0;for(s=U(e._f,e._locale).match(jt)||[],n=0;n<s.length;n++)o=s[n],i=(a.match(W(o,e))||[])[0],i&&(r=a.substr(0,a.indexOf(i)),r.length>0&&e._pf.unusedInput.push(r),a=a.slice(a.indexOf(i)+i.length),c+=i.length),me[o]?(i?e._pf.empty=!1:e._pf.unusedTokens.push(o),H(o,i,e)):e._strict&&!i&&e._pf.unusedTokens.push(o);e._pf.charsLeftOver=l-c,a.length>0&&e._pf.unusedInput.push(a),e._pf.bigHour===!0&&e._a[Mt]<=12&&(e._pf.bigHour=t),e._isPm&&e._a[Mt]<12&&(e._a[Mt]+=12),e._isPm===!1&&12===e._a[Mt]&&(e._a[Mt]=0),G(e),O(e)}function V(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,s){return e||n||i||s})}function Q(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Z(t){var e,n,s,o,r;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(0/0));for(o=0;o<t._f.length;o++)r=0,e=f({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._pf=i(),e._f=t._f[o],J(e),P(e)&&(r+=e._pf.charsLeftOver,r+=10*e._pf.unusedTokens.length,e._pf.score=r,(null==s||s>r)&&(s=r,n=e));h(t,n||e)}function X(t){var e,n,i=t._i,s=ie.exec(i);if(s){for(t._pf.iso=!0,e=0,n=oe.length;n>e;e++)if(oe[e][1].exec(i)){t._f=oe[e][0]+(s[6]||" ");break}for(e=0,n=re.length;n>e;e++)if(re[e][1].exec(i)){t._f+=re[e][0];break}i.match(qt)&&(t._f+="Z"),J(t)}else t._isValid=!1}function K(t){X(t),t._isValid===!1&&(delete t._isValid,bt.createFromInputFallback(t))}function tt(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function et(e){var n,i=e._i;i===t?e._d=new Date:w(i)?e._d=new Date(+i):null!==(n=Rt.exec(i))?e._d=new Date(+n[1]):"string"==typeof i?K(e):_(i)?(e._a=tt(i.slice(0),function(t){return parseInt(t,10)}),G(e)):"object"==typeof i?N(e):"number"==typeof i?e._d=new Date(i):bt.createFromInputFallback(e)}function nt(t,e,n,i,s,o,r){var a=new Date(t,e,n,i,s,o,r);return 1970>t&&a.setFullYear(t),a}function it(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function st(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function ot(t,e,n,i,s){return s.relativeTime(e||1,!!n,t,i)}function rt(t,e,n){var i=bt.duration(t).abs(),s=kt(i.as("s")),o=kt(i.as("m")),r=kt(i.as("h")),a=kt(i.as("d")),l=kt(i.as("M")),c=kt(i.as("y")),u=s<he.s&&["s",s]||1===o&&["m"]||o<he.m&&["mm",o]||1===r&&["h"]||r<he.h&&["hh",r]||1===a&&["d"]||a<he.d&&["dd",a]||1===l&&["M"]||l<he.M&&["MM",l]||1===c&&["y"]||["yy",c];return u[2]=e,u[3]=+t>0,u[4]=n,ot.apply({},u)}function at(t,e,n){var i,s=n-e,o=n-t.day();return o>s&&(o-=7),s-7>o&&(o+=7),i=bt(t).add(o,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function lt(t,e,n,i,s){var o,r,a=it(t,0,1).getUTCDay();return a=0===a?7:a,n=null!=n?n:s,o=s-a+(a>i?7:0)-(s>a?7:0),r=7*(e-1)+(n-s)+o+1,{year:r>0?t:t-1,dayOfYear:r>0?r:M(t-1)+r
}}function ct(e){var n,i=e._i,s=e._f;return e._locale=e._locale||bt.localeData(e._l),null===i||s===t&&""===i?bt.invalid({nullInput:!0}):("string"==typeof i&&(e._i=i=e._locale.preparse(i)),bt.isMoment(i)?new u(i,!0):(s?_(s)?Z(e):J(e):et(e),n=new u(e),n._nextDay&&(n.add(1,"d"),n._nextDay=t),n))}function ut(t,e){var n,i;if(1===e.length&&_(e[0])&&(e=e[0]),!e.length)return bt();for(n=e[0],i=1;i<e.length;++i)e[i][t](n)&&(n=e[i]);return n}function dt(t,e){var n;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(n=Math.min(t.date(),C(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function ht(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function ft(t,e,n){return"Month"===e?dt(t,n):t._d["set"+(t._isUTC?"UTC":"")+e](n)}function pt(t,e){return function(n){return null!=n?(ft(this,t,n),bt.updateOffset(this,e),this):ht(this,t)}}function mt(t){return 400*t/146097}function gt(t){return 146097*t/400}function vt(t){bt.duration.fn[t]=function(){return this._data[t]}}function yt(t){"undefined"==typeof ender&&(_t=$t.moment,$t.moment=t?o("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",bt):bt)}for(var bt,_t,wt,xt="2.8.4",$t="undefined"!=typeof global?global:this,kt=Math.round,Tt=Object.prototype.hasOwnProperty,St=0,Ct=1,Dt=2,Mt=3,Et=4,Ot=5,Pt=6,Yt={},It=[],Lt="undefined"!=typeof module&&module&&module.exports,Rt=/^\/?Date\((\-?\d+)/i,Ft=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,At=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,jt=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Ut=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Wt=/\d\d?/,zt=/\d{1,3}/,Ht=/\d{1,4}/,Bt=/[+\-]?\d{1,6}/,Gt=/\d+/,Nt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,qt=/Z|[\+\-]\d\d:?\d\d/gi,Jt=/T/i,Vt=/[\+\-]?\d+/,Qt=/[\+\-]?\d+(\.\d{1,3})?/,Zt=/\d/,Xt=/\d\d/,Kt=/\d{3}/,te=/\d{4}/,ee=/[+-]?\d{6}/,ne=/[+-]?\d+/,ie=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,se="YYYY-MM-DDTHH:mm:ssZ",oe=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],re=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ae=/([\+\-]|\d\d)/gi,le=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),ce={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},ue={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},de={},he={s:45,m:45,h:22,d:26,M:11},fe="DDD w W M D d".split(" "),pe="M D H h m s w W".split(" "),me={M:function(){return this.month()+1},MMM:function(t){return this.localeData().monthsShort(this,t)},MMMM:function(t){return this.localeData().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.localeData().weekdaysMin(this,t)},ddd:function(t){return this.localeData().weekdaysShort(this,t)},dddd:function(t){return this.localeData().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return m(this.year()%100,2)},YYYY:function(){return m(this.year(),4)},YYYYY:function(){return m(this.year(),5)},YYYYYY:function(){var t=this.year(),e=t>=0?"+":"-";return e+m(Math.abs(t),6)},gg:function(){return m(this.weekYear()%100,2)},gggg:function(){return m(this.weekYear(),4)},ggggg:function(){return m(this.weekYear(),5)},GG:function(){return m(this.isoWeekYear()%100,2)},GGGG:function(){return m(this.isoWeekYear(),4)},GGGGG:function(){return m(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return S(this.milliseconds()/100)},SS:function(){return m(S(this.milliseconds()/10),2)},SSS:function(){return m(this.milliseconds(),3)},SSSS:function(){return m(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+m(S(t/60),2)+":"+m(S(t)%60,2)},ZZ:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+m(S(t/60),2)+m(S(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},ge={},ve=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];fe.length;)wt=fe.pop(),me[wt+"o"]=l(me[wt],wt);for(;pe.length;)wt=pe.pop(),me[wt+wt]=a(me[wt],2);me.DDDD=a(me.DDD,3),h(c.prototype,{set:function(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t,e,n){var i,s,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(s=bt.utc([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(n=bt([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e,n){var i=this._calendar[t];return"function"==typeof i?i.apply(e,[n]):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,i){var s=this._relativeTime[n];return"function"==typeof s?s(t,e,n,i):s.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(t){return t},postformat:function(t){return t},week:function(t){return at(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),bt=function(e,n,s,o){var r;return"boolean"==typeof s&&(o=s,s=t),r={},r._isAMomentObject=!0,r._i=e,r._f=n,r._l=s,r._strict=o,r._isUTC=!1,r._pf=i(),ct(r)},bt.suppressDeprecationWarnings=!1,bt.createFromInputFallback=o("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),bt.min=function(){var t=[].slice.call(arguments,0);return ut("isBefore",t)},bt.max=function(){var t=[].slice.call(arguments,0);return ut("isAfter",t)},bt.utc=function(e,n,s,o){var r;return"boolean"==typeof s&&(o=s,s=t),r={},r._isAMomentObject=!0,r._useUTC=!0,r._isUTC=!0,r._l=s,r._i=e,r._f=n,r._strict=o,r._pf=i(),ct(r).utc()},bt.unix=function(t){return bt(1e3*t)},bt.duration=function(t,e){var i,s,o,r,a=t,l=null;return bt.isDuration(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(a={},e?a[e]=t:a.milliseconds=t):(l=Ft.exec(t))?(i="-"===l[1]?-1:1,a={y:0,d:S(l[Dt])*i,h:S(l[Mt])*i,m:S(l[Et])*i,s:S(l[Ot])*i,ms:S(l[Pt])*i}):(l=At.exec(t))?(i="-"===l[1]?-1:1,o=function(t){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*i},a={y:o(l[2]),M:o(l[3]),d:o(l[4]),h:o(l[5]),m:o(l[6]),s:o(l[7]),w:o(l[8])}):"object"==typeof a&&("from"in a||"to"in a)&&(r=v(bt(a.from),bt(a.to)),a={},a.ms=r.milliseconds,a.M=r.months),s=new d(a),bt.isDuration(t)&&n(t,"_locale")&&(s._locale=t._locale),s},bt.version=xt,bt.defaultFormat=se,bt.ISO_8601=function(){},bt.momentProperties=It,bt.updateOffset=function(){},bt.relativeTimeThreshold=function(e,n){return he[e]===t?!1:n===t?he[e]:(he[e]=n,!0)},bt.lang=o("moment.lang is deprecated. Use moment.locale instead.",function(t,e){return bt.locale(t,e)}),bt.locale=function(t,e){var n;return t&&(n="undefined"!=typeof e?bt.defineLocale(t,e):bt.localeData(t),n&&(bt.duration._locale=bt._locale=n)),bt._locale._abbr},bt.defineLocale=function(t,e){return null!==e?(e.abbr=t,Yt[t]||(Yt[t]=new c),Yt[t].set(e),bt.locale(t),Yt[t]):(delete Yt[t],null)},bt.langData=o("moment.langData is deprecated. Use moment.localeData instead.",function(t){return bt.localeData(t)}),bt.localeData=function(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return bt._locale;if(!_(t)){if(e=L(t))return e;t=[t]}return I(t)},bt.isMoment=function(t){return t instanceof u||null!=t&&n(t,"_isAMomentObject")},bt.isDuration=function(t){return t instanceof d};for(wt=ve.length-1;wt>=0;--wt)T(ve[wt]);bt.normalizeUnits=function(t){return $(t)},bt.invalid=function(t){var e=bt.utc(0/0);return null!=t?h(e._pf,t):e._pf.userInvalidated=!0,e},bt.parseZone=function(){return bt.apply(null,arguments).parseZone()},bt.parseTwoDigitYear=function(t){return S(t)+(S(t)>68?1900:2e3)},h(bt.fn=u.prototype,{clone:function(){return bt(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var t=bt(this).utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():j(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):j(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return P(this)},isDSTShifted:function(){return this._a?this.isValid()&&x(this._a,(this._isUTC?bt.utc(this._a):bt(this._a)).toArray())>0:!1},parsingFlags:function(){return h({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(t){return this.zone(0,t)},local:function(t){return this._isUTC&&(this.zone(0,t),this._isUTC=!1,t&&this.add(this._dateTzOffset(),"m")),this},format:function(t){var e=j(this,t||bt.defaultFormat);return this.localeData().postformat(e)},add:y(1,"add"),subtract:y(-1,"subtract"),diff:function(t,e,n){var i,s,o,r=R(t,this),a=6e4*(this.zone()-r.zone());return e=$(e),"year"===e||"month"===e?(i=432e5*(this.daysInMonth()+r.daysInMonth()),s=12*(this.year()-r.year())+(this.month()-r.month()),o=this-bt(this).startOf("month")-(r-bt(r).startOf("month")),o-=6e4*(this.zone()-bt(this).startOf("month").zone()-(r.zone()-bt(r).startOf("month").zone())),s+=o/i,"year"===e&&(s/=12)):(i=this-r,s="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-a)/864e5:"week"===e?(i-a)/6048e5:i),n?s:p(s)},from:function(t,e){return bt.duration({to:this,from:t}).locale(this.locale()).humanize(!e)},fromNow:function(t){return this.from(bt(),t)},calendar:function(t){var e=t||bt(),n=R(e,this).startOf("day"),i=this.diff(n,"days",!0),s=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(this.localeData().calendar(s,this,bt(e)))},isLeapYear:function(){return E(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=st(t,this.localeData()),this.add(t-e,"d")):e},month:pt("Month",!0),startOf:function(t){switch(t=$(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=$(e),e===t||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},isAfter:function(t,e){var n;return e=$("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=bt.isMoment(t)?t:bt(t),+this>+t):(n=bt.isMoment(t)?+t:+bt(t),n<+this.clone().startOf(e))},isBefore:function(t,e){var n;return e=$("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=bt.isMoment(t)?t:bt(t),+t>+this):(n=bt.isMoment(t)?+t:+bt(t),+this.clone().endOf(e)<n)},isSame:function(t,e){var n;return e=$(e||"millisecond"),"millisecond"===e?(t=bt.isMoment(t)?t:bt(t),+this===+t):(n=+bt(t),+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e))},min:o("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(t){return t=bt.apply(null,arguments),this>t?this:t}),max:o("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(t){return t=bt.apply(null,arguments),t>this?this:t}),zone:function(t,e){var n,i=this._offset||0;return null==t?this._isUTC?i:this._dateTzOffset():("string"==typeof t&&(t=z(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&e&&(n=this._dateTzOffset()),this._offset=t,this._isUTC=!0,null!=n&&this.subtract(n,"m"),i!==t&&(!e||this._changeInProgress?b(this,bt.duration(i-t,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,bt.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(t){return t=t?bt(t).zone():0,(this.zone()-t)%60===0},daysInMonth:function(){return C(this.year(),this.month())},dayOfYear:function(t){var e=kt((bt(this).startOf("day")-bt(this).startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},quarter:function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},weekYear:function(t){var e=at(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")},isoWeekYear:function(t){var e=at(this,1,4).year;return null==t?e:this.add(t-e,"y")},week:function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},isoWeek:function(t){var e=at(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},weekday:function(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},isoWeeksInYear:function(){return D(this.year(),1,4)},weeksInYear:function(){var t=this.localeData()._week;return D(this.year(),t.dow,t.doy)},get:function(t){return t=$(t),this[t]()},set:function(t,e){return t=$(t),"function"==typeof this[t]&&this[t](e),this},locale:function(e){var n;return e===t?this._locale._abbr:(n=bt.localeData(e),null!=n&&(this._locale=n),this)},lang:o("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===t?this.localeData():this.locale(e)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),bt.fn.millisecond=bt.fn.milliseconds=pt("Milliseconds",!1),bt.fn.second=bt.fn.seconds=pt("Seconds",!1),bt.fn.minute=bt.fn.minutes=pt("Minutes",!1),bt.fn.hour=bt.fn.hours=pt("Hours",!0),bt.fn.date=pt("Date",!0),bt.fn.dates=o("dates accessor is deprecated. Use date instead.",pt("Date",!0)),bt.fn.year=pt("FullYear",!0),bt.fn.years=o("years accessor is deprecated. Use year instead.",pt("FullYear",!0)),bt.fn.days=bt.fn.day,bt.fn.months=bt.fn.month,bt.fn.weeks=bt.fn.week,bt.fn.isoWeeks=bt.fn.isoWeek,bt.fn.quarters=bt.fn.quarter,bt.fn.toJSON=bt.fn.toISOString,h(bt.duration.fn=d.prototype,{_bubble:function(){var t,e,n,i=this._milliseconds,s=this._days,o=this._months,r=this._data,a=0;r.milliseconds=i%1e3,t=p(i/1e3),r.seconds=t%60,e=p(t/60),r.minutes=e%60,n=p(e/60),r.hours=n%24,s+=p(n/24),a=p(mt(s)),s-=p(gt(a)),o+=p(s/30),s%=30,a+=p(o/12),o%=12,r.days=s,r.months=o,r.years=a},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return p(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*S(this._months/12)},humanize:function(t){var e=rt(this,!t,this.localeData());return t&&(e=this.localeData().pastFuture(+this,e)),this.localeData().postformat(e)},add:function(t,e){var n=bt.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=bt.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return t=$(t),this[t.toLowerCase()+"s"]()},as:function(t){var e,n;if(t=$(t),"month"===t||"year"===t)return e=this._days+this._milliseconds/864e5,n=this._months+12*mt(e),"month"===t?n:n/12;switch(e=this._days+Math.round(gt(this._months/12)),t){case"week":return e/7+this._milliseconds/6048e5;case"day":return e+this._milliseconds/864e5;case"hour":return 24*e+this._milliseconds/36e5;case"minute":return 24*e*60+this._milliseconds/6e4;case"second":return 24*e*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*e*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+t)}},lang:bt.fn.lang,locale:bt.fn.locale,toIsoString:o("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var t=Math.abs(this.years()),e=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),s=Math.abs(this.minutes()),o=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(n?n+"D":"")+(i||s||o?"T":"")+(i?i+"H":"")+(s?s+"M":"")+(o?o+"S":""):"P0D"},localeData:function(){return this._locale}}),bt.duration.fn.toString=bt.duration.fn.toISOString;for(wt in le)n(le,wt)&&vt(wt.toLowerCase());bt.duration.fn.asMilliseconds=function(){return this.as("ms")},bt.duration.fn.asSeconds=function(){return this.as("s")},bt.duration.fn.asMinutes=function(){return this.as("m")},bt.duration.fn.asHours=function(){return this.as("h")},bt.duration.fn.asDays=function(){return this.as("d")},bt.duration.fn.asWeeks=function(){return this.as("weeks")},bt.duration.fn.asMonths=function(){return this.as("M")},bt.duration.fn.asYears=function(){return this.as("y")},bt.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===S(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),Lt?module.exports=bt:"function"==typeof define&&define.amd?(define("moment",function(t,e,n){return n.config&&n.config()&&n.config().noGlobal===!0&&($t.moment=_t),bt}),yt(!0)):yt()}.call(this),jQuery.trumbowyg={langs:{en:{viewHTML:"View HTML",formatting:"Formatting",p:"Paragraph",blockquote:"Quote",code:"Code",header:"Header",bold:"Bold",italic:"Italic",strikethrough:"Stroke",underline:"Underline",strong:"Strong",em:"Emphasis",del:"Deleted",unorderedList:"Unordered list",orderedList:"Ordered list",insertImage:"Insert Image",insertVideo:"Insert Video",link:"Link",createLink:"Insert link",unlink:"Remove link",justifyLeft:"Align Left",justifyCenter:"Align Center",justifyRight:"Align Right",justifyFull:"Align Justify",horizontalRule:"Insert horizontal rule",fullscreen:"fullscreen",close:"Close",submit:"Confirm",reset:"Cancel",invalidUrl:"Invalid URL",required:"Required",description:"Description",title:"Title",text:"Text"}},opts:{},btnsGrps:{design:["bold","italic","underline","strikethrough"],semantic:["strong","em","del"],justify:["justifyLeft","justifyCenter","justifyRight","justifyFull"],lists:["unorderedList","orderedList"]}},function(t,e,n,i){"use strict";n.fn.trumbowyg=function(t,e){if(t===Object(t)||!t)return this.each(function(){n(this).data("trumbowyg")||n(this).data("trumbowyg",new s(this,t))});if(1===this.length)try{var i=n(this).data("trumbowyg");switch(t){case"openModal":return i.openModal(e.title,e.content);case"closeModal":return i.closeModal();case"openModalInsert":return i.openModalInsert(e.title,e.fields,e.callback);case"saveSelection":return i.saveSelection();case"getSelection":return i.selection;case"getSelectedText":return i.selection+"";case"restoreSelection":return i.restoreSelection();case"destroy":return i.destroy();case"empty":return i.empty();case"lang":return i.lang;case"duration":return i.o.duration;case"html":return i.html(e)}}catch(o){}return!1};var s=function(t,i){var s=this;s.doc=t.ownerDocument||e,s.$e=n(t),s.$creator=n(t),i=n.extend(!0,{},i,n.trumbowyg.opts),s.lang="undefined"==typeof i.lang||"undefined"==typeof n.trumbowyg.langs[i.lang]?n.trumbowyg.langs.en:n.extend(!0,{},n.trumbowyg.langs.en,n.trumbowyg.langs[i.lang]),s.o=n.extend(!0,{},{lang:"en",dir:"ltr",duration:200,mobile:!1,tablet:!0,closable:!1,fullscreenable:!0,fixedBtnPane:!1,fixedFullWidth:!1,autogrow:!1,prefix:"trumbowyg-",convertLink:!0,semantic:!1,resetCss:!1,btns:["viewHTML","|","formatting","|",n.trumbowyg.btnsGrps.design,"|","link","|","insertImage","|",n.trumbowyg.btnsGrps.justify,"|",n.trumbowyg.btnsGrps.lists,"|","horizontalRule"],btnsAdd:[],btnsDef:{viewHTML:{func:"toggle"},p:{func:"formatBlock"},blockquote:{func:"formatBlock"},h1:{func:"formatBlock",title:s.lang.header+" 1"},h2:{func:"formatBlock",title:s.lang.header+" 2"},h3:{func:"formatBlock",title:s.lang.header+" 3"},h4:{func:"formatBlock",title:s.lang.header+" 4"},bold:{},italic:{},underline:{},strikethrough:{},strong:{func:"bold"},em:{func:"italic"},del:{func:"strikethrough"},createLink:{},unlink:{},insertImage:{},justifyLeft:{},justifyCenter:{},justifyRight:{},justifyFull:{},unorderedList:{func:"insertUnorderedList"},orderedList:{func:"insertOrderedList"},horizontalRule:{func:"insertHorizontalRule"},formatting:{dropdown:["p","blockquote","h1","h2","h3","h4"]},link:{dropdown:["createLink","unlink"]}}},i),s.o.semantic&&!i.btns?s.o.btns=["viewHTML","|","formatting","|",n.trumbowyg.btnsGrps.semantic,"|","link","|","insertImage","|",n.trumbowyg.btnsGrps.justify,"|",n.trumbowyg.btnsGrps.lists,"|","horizontalRule"]:i&&i.btns&&(s.o.btns=i.btns),s.init()};s.prototype={init:function(){var t=this;return t.height=t.$e.css("height"),t.isEnabled()?void t.buildEditor(!0):(t.buildEditor(),t.buildBtnPane(),t.fixedBtnPaneEvents(),void t.buildOverlay())},buildEditor:function(t){var e=this,i=e.o.prefix,s="";if(t!==!0)e.$box=n("<div/>",{"class":i+"box "+i+e.o.lang+" trumbowyg"}),e.isTextarea=!0,e.$e.is("textarea")?e.$editor=n("<div/>"):(e.$editor=e.$e,e.$e=e.buildTextarea().val(e.$e.val()),e.isTextarea=!1),e.$creator.is("[placeholder]")&&e.$editor.attr("placeholder",e.$creator.attr("placeholder")),e.$e.hide().addClass(i+"textarea"),e.isTextarea?(s=e.$e.val(),e.$box.insertAfter(e.$e).append(e.$editor).append(e.$e)):(s=e.$editor.html(),e.$box.insertAfter(e.$editor).append(e.$e).append(e.$editor),e.syncCode()),e.$editor.addClass(i+"editor").attr("contenteditable",!0).attr("dir",e.lang._dir||e.o.dir).html(s),e.o.resetCss&&e.$editor.addClass(i+"reset-css"),e.o.autogrow||n.each([e.$editor,e.$e],function(t,n){n.css({height:e.height,overflow:"auto"})}),e.o.semantic&&(e.$editor.html(e.$editor.html().replace("<br>","</p><p>").replace("&nbsp;","")),e.semanticCode()),e.$editor.on("dblclick","img",function(t){var i=n(this);e.openModalInsert(e.lang.insertImage,{url:{label:"URL",value:i.attr("src"),required:!0},alt:{label:"description",value:i.attr("alt")}},function(t){i.attr({src:t.url,alt:t.alt})}),t.stopPropagation()}).on("keyup",function(t){e.semanticCode(!1,13===t.which)}).on("focus",function(){e.$creator.trigger("tbwfocus")}).on("blur",function(){e.syncCode(),e.$creator.trigger("tbwblur")});else if(!e.$e.is("textarea")){var o=e.buildTextarea().val(e.$e.val());e.$e.hide().after(o)}},buildTextarea:function(){return n("<textarea/>",{name:this.$e.attr("id"),height:this.height})},buildBtnPane:function(){var e=this,s=e.o.prefix;if(e.o.btns!==!1){e.$btnPane=n("<ul/>",{"class":s+"button-pane"}),n.each(e.o.btns.concat(e.o.btnsAdd),function(t,o){try{var r=o.split("btnGrp-");r[1]!==i&&(o=n.trumbowyg.btnsGrps[r[1]])}catch(a){}n.isArray(o)||(o=[o]),n.each(o,function(t,i){try{var o=n("<li/>");"|"===i?o.addClass(s+"separator"):e.isSupportedBtn(i)&&o.append(e.buildBtn(i)),e.$btnPane.append(o)}catch(r){}})});var o=n("<li/>",{"class":s+"not-disable "+s+"buttons-right"});e.o.fullscreenable&&o.append(e.buildRightBtn("fullscreen").on("click",function(){var i=s+"fullscreen";e.$box.toggleClass(i),e.$box.hasClass(i)?(n("body").css("overflow","hidden"),n.each([e.$editor,e.$e],function(){n(this).css({height:"calc(100% - 35px)",overflow:"auto"})}),e.$btnPane.css("width","100%")):(n("body").css("overflow","auto"),e.$box.removeAttr("style"),e.o.autogrow||n.each([e.$editor,e.$e],function(){n(this).css("height",e.height)})),n(t).trigger("scroll")})),e.o.closable&&o.append(e.buildRightBtn("close").on("click",function(){e.$box.hasClass(s+"fullscreen")&&n("body").css("overflow","auto"),e.destroy()})),o.not(":empty")&&e.$btnPane.append(o),e.$box.prepend(e.$btnPane)}},buildBtn:function(t){var e=this,i=e.o.prefix,s=e.o.btnsDef[t],o=s.dropdown,r=e.lang[t]||t,a=n("<button/>",{type:"button","class":i+t+"-button"+(s.ico?" "+i+s.ico+"-button":""),text:s.text||s.title||r,title:s.title||s.text||r,mousedown:function(r){return(!o||e.$box.find("."+t+"-"+i+"dropdown").is(":hidden"))&&n("body",e.doc).trigger("mousedown"),!e.$btnPane.hasClass(i+"disable")||n(this).hasClass(i+"active")||n(this).parent().hasClass(i+"not-disable")?(e.execCmd((o?"dropdown":!1)||s.func||t,s.param||t),r.stopPropagation(),void r.preventDefault()):!1}});if(o){a.addClass(i+"open-dropdown");var l=i+"dropdown",c=n("<div/>",{"class":t+"-"+l+" "+l+" "+i+"fixed-top"});n.each(o,function(t,n){e.o.btnsDef[n]&&e.isSupportedBtn(n)&&c.append(e.buildSubBtn(n))}),e.$box.append(c.hide())}return a},buildSubBtn:function(t){var e=this,i=e.o.btnsDef[t];return n("<button/>",{type:"button",text:i.text||i.title||e.lang[t]||t,style:i.style||null,mousedown:function(s){n("body",e.doc).trigger("mousedown"),e.execCmd(i.func||t,i.param||t),s.stopPropagation()}})},buildRightBtn:function(t){return n("<button/>",{type:"button","class":this.o.prefix+t+"-button",title:this.lang[t],text:this.lang[t]})},isSupportedBtn:function(t){var e=this.o.btnsDef[t];return"function"!=typeof e.isSupported||e.isSupported()},buildOverlay:function(){var t=this;return t.$overlay=n("<div/>",{"class":t.o.prefix+"overlay"}).css({top:t.$btnPane.outerHeight(),height:parseInt(t.$editor.outerHeight())+1+"px"}).appendTo(t.$box),t.$overlay},showOverlay:function(){var e=this;n(t).trigger("scroll"),e.$overlay.fadeIn(e.o.duration),e.$box.addClass(e.o.prefix+"box-blur")},hideOverlay:function(){var t=this;t.$overlay.fadeOut(t.o.duration/4),t.$box.removeClass(t.o.prefix+"box-blur")},fixedBtnPaneEvents:function(){var e=this,i=e.o.fixedFullWidth;e.o.fixedBtnPane&&(e.isFixed=!1,n(t).on("scroll resize",function(){if(e.$box){e.syncCode();var s=n(t).scrollTop(),o=e.$box.offset().top+1,r=s-o>0&&s-o-parseInt(e.height)<0,a=e.$btnPane,l=a.css("height"),c=a.outerHeight();r?(e.isFixed||(e.isFixed=!0,a.css({position:"fixed",top:0,left:i?"0":"auto",zIndex:7}),n([e.$editor,e.$e]).css({marginTop:l})),a.css({width:i?"100%":parseInt(e.$box.css("width"))-1+"px"}),n("."+e.o.prefix+"fixed-top",e.$box).css({position:i?"fixed":"absolute",top:i?c:parseInt(c)+(s-o)+"px",zIndex:15})):e.isFixed&&(e.isFixed=!1,a.removeAttr("style"),n([e.$editor,e.$e]).css({marginTop:0}),n("."+e.o.prefix+"fixed-top",e.$box).css({position:"absolute",top:c}))}}))},destroy:function(){var t=this,e=t.o.prefix,n=t.height,i=t.html();t.$box.after(t.isTextarea?t.$e.css({height:n}).val(i).removeClass(e+"textarea").show():t.$editor.css({height:n}).removeClass(e+"editor").removeAttr("contenteditable").html(i).show()),t.$box.remove(),t.$creator.removeData("trumbowyg")},empty:function(){this.$e.val(""),this.syncCode(!0)},toggle:function(){var t=this,e=t.o.prefix;t.semanticCode(!1,!0),t.$editor.toggle(),t.$e.toggle(),t.$btnPane.toggleClass(e+"disable"),t.$btnPane.find("."+e+"viewHTML-button").toggleClass(e+"active")},dropdown:function(e){var i=this,s=i.doc,o=i.o.prefix,r=i.$box.find("."+e+"-"+o+"dropdown"),a=i.$btnPane.find("."+o+e+"-button");if(r.is(":hidden")){var l=a.offset().left;a.addClass(o+"active"),r.css({position:"absolute",top:i.$btnPane.outerHeight(),left:i.o.fixedFullWidth&&i.isFixed?l+"px":l-i.$btnPane.offset().left+"px"}).show(),n(t).trigger("scroll"),n("body",s).on("mousedown",function(){n("."+o+"dropdown",s).hide(),n("."+o+"active",s).removeClass(o+"active"),n("body",s).off("mousedown")})}else n("body",s).trigger("mousedown")},html:function(t){var e=this;return t?(e.$e.val(t),e.syncCode(!0),e):e.$e.val()},syncCode:function(t){var e=this;!t&&e.$editor.is(":visible")?e.$e.val(e.$editor.html()):e.$editor.html(e.$e.val()),e.o.autogrow&&(e.height=e.$editor.css("height"),e.$e.css({height:e.height}))},semanticCode:function(t,e){var i=this;i.syncCode(t),i.o.semantic&&(i.semanticTag("b","strong"),i.semanticTag("i","em"),i.semanticTag("strike","del"),e&&(i.$editor.contents().filter(function(){return 3===this.nodeType&&n.trim(this.nodeValue).length>0;

}).wrap("<p></p>").end().filter("br").remove(),i.saveSelection(),i.semanticTag("div","p"),i.restoreSelection()),i.$e.val(i.$editor.html()))},semanticTag:function(t,e){n(t,this.$editor).each(function(){n(this).replaceWith(function(){return"<"+e+">"+n(this).html()+"</"+e+">"})})},createLink:function(){var t=this;t.saveSelection(),t.openModalInsert(t.lang.createLink,{url:{label:"URL",value:"http://",required:!0},title:{label:t.lang.title,value:t.selection},text:{label:t.lang.text,value:t.selection}},function(e){t.execCmd("createLink",e.url);var i=n('a[href="'+e.url+'"]:not([title])',t.$box);return e.text.length>0&&i.text(e.text),e.title.length>0&&i.attr("title",e.title),!0})},insertImage:function(){var t=this;t.saveSelection(),t.openModalInsert(t.lang.insertImage,{url:{label:"URL",value:"http://",required:!0},alt:{label:t.lang.description,value:t.selection}},function(e){return t.execCmd("insertImage",e.url),n('img[src="'+e.url+'"]:not([alt])',t.$box).attr("alt",e.alt),!0})},execCmd:function(t,e){var n=this;"dropdown"!=t&&n.$editor.focus();try{n[t](e)}catch(i){try{t(e,n)}catch(s){"insertHorizontalRule"==t?e=null:"formatBlock"==t&&(-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>0)&&(e="<"+e+">"),n.doc.execCommand(t,!1,e)}}n.syncCode()},openModal:function(e,i){var s=this,o=s.o.prefix;if(n("."+o+"modal-box",s.$box).size()>0)return!1;s.saveSelection(),s.showOverlay(),s.$btnPane.addClass(o+"disable");var r=n("<div/>",{"class":o+"modal "+o+"fixed-top"}).css({top:parseInt(s.$btnPane.css("height"))+1+"px"}).appendTo(s.$box);s.$overlay.one("click",function(t){t.preventDefault(),r.trigger(o+"cancel")});var a=n("<form/>",{action:"",html:i}).on("submit",function(t){t.preventDefault(),r.trigger(o+"confirm")}).on("reset",function(t){t.preventDefault(),r.trigger(o+"cancel")}),l=n("<div/>",{"class":o+"modal-box",html:a}).css({top:"-"+parseInt(s.$btnPane.outerHeight())+"px",opacity:0}).appendTo(r).animate({top:0,opacity:1},s.o.duration/2);return n("<span/>",{text:e,"class":o+"modal-title"}).prependTo(l),l.find("input:first").focus(),s.buildModalBtn("submit",l),s.buildModalBtn("reset",l),n(t).trigger("scroll"),r},buildModalBtn:function(t,e){var i=this,s=i.o.prefix;return n("<button/>",{"class":s+"modal-button "+s+"modal-"+t,type:t,text:i.lang[t]||t}).appendTo(e.find("form"))},closeModal:function(){var t=this,e=t.o.prefix;t.$btnPane.removeClass(e+"disable"),t.$overlay.off();var i=n("."+e+"modal-box",t.$box);i.animate({top:"-"+i.css("height")},t.o.duration/2,function(){n(this).parent().remove(),t.hideOverlay()})},openModalInsert:function(t,e,s){var o=this,r=o.o.prefix,a=o.lang,l="";for(var c in e){var u=e[c],d=u.label===i?a[c]?a[c]:c:a[u.label]?a[u.label]:u.label;u.name===i&&(u.name=c),u.pattern||"url"!==c||(u.pattern=/^(http|https):\/\/([\w~#!:.?+=&%@!\-\/]+)$/,u.patternError=a.invalidUrl),l+='<label><input type="'+(u.type||"text")+'" name="'+u.name+'" value="'+(u.value||"")+'"><span class="'+r+'input-infos"><span>'+d+"</span></span></label>"}return o.openModal(t,l).on(r+"confirm",function(){var t=n(this).find("form"),i=!0,a={};for(var l in e){var c=n('input[name="'+l+'"]',t);a[l]=n.trim(c.val()),e[l].required&&""===a[l]?(i=!1,o.addErrorOnModalField(c,o.lang.required)):e[l].pattern&&!e[l].pattern.test(a[l])&&(i=!1,o.addErrorOnModalField(c,e[l].patternError))}i&&(o.restoreSelection(),s(a,e)&&(o.syncCode(),o.closeModal(),n(this).off(r+"confirm")))}).one(r+"cancel",function(){n(this).off(r+"confirm"),o.closeModal(),o.restoreSelection()})},addErrorOnModalField:function(t,e){var i=this.o.prefix,s=t.parent();t.on("change keyup",function(){s.removeClass(i+"input-error")}),s.addClass(i+"input-error").find("input+span").append(n("<span/>",{"class":i+"msg-error",text:e}))},saveSelection:function(){var e=this,n=e.doc;if(e.selection=null,t.getSelection){var i=t.getSelection();i.getRangeAt&&i.rangeCount&&(e.selection=i.getRangeAt(0))}else n.selection&&n.selection.createRange&&(e.selection=n.selection.createRange())},restoreSelection:function(){var e=this,n=e.selection;if(n)if(t.getSelection){var i=t.getSelection();i.removeAllRanges(),i.addRange(n)}else e.doc.selection&&n.select&&n.select()},isEnabled:function(){var t=new RegExp("(iPad|webOS)"),e=new RegExp("(iPhone|iPod|Android|BlackBerry|Windows Phone|ZuneWP7)"),n=navigator.userAgent;return this.o.tablet===!0&&t.test(n)||this.o.mobile===!0&&e.test(n)}}}(window,document,jQuery),window.J=function(t){"use strict";var e={get:function(e,n,i){var s="/api/j/?table="+e+"&id="+i+"&limit="+n;return J.host&&(s=J.host+s),t.ajax({url:s,cache:!0,dataType:"jsonp",jsonp:"callback",type:"GET",success:function(t){return t},error:function(t){return a(t.responseText),ce(t),t}})},post:function(e,n){var i="/api/j/?table="+e+"&token="+J.token+"&user="+J.userId+"&type=short";return J.host&&(i=J.host+i),t.ajax({url:i,type:"POST",processData:!1,contentType:!1,data:n,dataType:"jsonp",jsonp:"callback",success:function(t){return void 0!==t.objectId?t:(cl("error - object not saved"),void cl(t))},error:function(t){return a(t.responseText),ce(t),t}})},put:function(e,n,i){var s="/api/j/?table="+e+"&id="+n+"&data="+i;return J.host&&(s=J.host+s),t.ajax({type:"PUT",url:s,processData:!1,contentType:!1,data:i,dataType:"jsonp",jsonp:"callback",success:function(t){return t},error:function(t){return a(t.responseText),cl(t),t}})},query:function(e,n,i,s,o){var r="/api/j/query/?table="+e+"&key="+i+"&value="+s+"&limit="+n+"&order="+o;return J.host&&(r=J.host+r),t.ajax({url:r,cache:canCache(),dataType:"jsonp",jsonp:"callback",type:"GET",success:function(t){return t},error:function(t){return a(t.responseText),ce(t),t}})},save:function(e,n,i){var s=!1;t("#"+n).on("submit",function(o){if(o.preventDefault(),s===!1){t("#pleaseWait").show(),t("#"+n+" input:submit").attr("disabled","disabled");var r=J.prepareForm(n);J.post(e,r).then(function(e){t("#"+n+" input:submit").removeAttr("disabled"),t("#pleaseWait").hide(),i(e)}),s=!0}})},update:function(e,n,i,s){var o=!1;t("#"+n).on("submit",function(r){if(r.preventDefault(),o===!1){t("#pleaseWait").show(),t("#"+n+" input:submit").attr("disabled","disabled");var a=J.prepareForm(n);J.put(e,i,a).then(function(e){t("#"+n+" input:submit").removeAttr("disabled"),t("#pleaseWait").hide(),s(e)}),o=!0}})},isUser:function(t,e){if(void 0!=J.userId&&J.userId!==!1)t();else var n=0,i=setInterval(function(){J.userId===!1?(e(),clearInterval(i)):void 0!==J.userId?(t(),clearInterval(i)):(40===n&&(e(),a("Unable to authenticate. Refresh page to try again"),clearInterval(i)),n++)},200)},addFB:function(t){!function(t,e,n){var i,s=t.getElementsByTagName(e)[0];t.getElementById(n)||(i=t.createElement(e),i.id=n,i.src="https://connect.facebook.net/en_US/all.js",s.parentNode.insertBefore(i,s))}(document,"script","facebook-jssdk"),window.fbAsyncInit=function(){FB.init({appId:t,xfbml:!0,version:"v2.2",status:!0}),J.checkIn()},window.location.hash&&"#_=_"==window.location.hash&&(window.location.hash="/")},checkIn:function(){function e(e){var n={};n.access_token=e,n.type="short",t.ajax({data:JSON.stringify(n),type:"POST",url:"/auth/fb",dataType:"jsonp",jsonp:"callback",success:function(t){1==t.error&&(J.token=!1),0==t.error&&(J.token=t.token)}})}FB.getLoginStatus(function(t){if("connected"===t.status){J.userId=t.authResponse.userID;var n=t.authResponse.accessToken;e(n)}else"not_authorized"===t.status?(console.log("Please log into this app."),J.userId=!1):(console.log("Please log into Facebook."),J.userId=!1)})},getBlobURL:function(t){var e=t[0].files[0];if(URL){var n=URL.createObjectURL(e);return n?n:!1}return!1},detectFileUpload:function(){var t=function(){if(navigator.userAgent.match(/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|(Windows Phone (OS 7|8.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle\/(1.0|2.0|2.5|3.0))/))return!1;var t=document.createElement("input");return t.type="file",!t.disabled}();return t?!0:!1},canCache:function(){return navigator.userAgent.match(/(Windows Phone)/)?!1:!0},resetForm:function(e){t("#"+e)[0].reset(),t(".trumbowyg-editor").html("")},rebuildForm:function(e,n){t("#"+e+" :input:not(:submit)").each(function(){var e=t(this);if(e.attr("id")in n)"text"===e.attr("type")&&(e.hasClass("wysiwg")?(e.parent().find(".trumbowyg-editor").html(n[e.attr("id")]),e.val(t(".trumbowyg-editor").html())):e.val(n[e.attr("id")])),"file"===e.attr("type");else if(e.attr("name")in n&&"checkbox"===e.attr("type")){var i=n[e.attr("name")].split(","),s=i.indexOf(e.attr("value"));-1!=s&&e.prop("checked",!0)}})},prepareForm:function(e){var n=[],i=new FormData,s={},o=t("#"+e);o.find("input, textarea").each(function(){var e=t(this);switch(e.attr("type")){case"text":case"textarea":i.append(e.attr("id"),e.val()),s[e.attr("id")]=t("label[for='"+this.id+"']").text();break;case"hidden":i.append(e.attr("name"),e.attr("value"));break;case"file":i.append(e.attr("id"),this.files[0]),s[e.attr("id")]=t("label[for='"+this.id+"']").text();break;case"checkbox":case"radio":e.prop("checked")&&("undefined"==typeof window[e.attr("name")+"_meta"]&&(window[e.attr("name")+"_meta"]={}),"undefined"==typeof window[e.attr("name")+"_data"]&&(window[e.attr("name")+"_data"]=[]),window[e.attr("name")+"_meta"][e.attr("value")]=e.parent().text(),window[e.attr("name")+"_data"].push(e.val())),"-1"==t.inArray(e.attr("name"),n)&&n.push(e.attr("name"));break;case"submit":break;default:"TEXTAREA"===e.prop("tagName")&&(i.append(e.attr("id"),e.val()),s[e.attr("id")]=t("label[for='"+this.id+"']").text())}});for(var r=0;r<n.length+1;r++){var a=n[r];if(a){var l=window[n[r]+"_meta"],c=window[n[r]+"_data"];l=JSON.stringify(l),i.append(a+"_meta",l),i.append(a,c),s[a]=t("label[for='"+a+"']").text(),window[a]&&(window[a].length=0)}}return n.length=0,s=JSON.stringify(s),i.append("titles",s),i},html5:function(e){e===!0&&t("body").on("click","a",function(e){if("_blank"!=t(this).attr("target")){e.preventDefault();var n=t(this).attr("href"),i=window.location.protocol+"//"+window.location.host,s=window.location.href;if("#"===s.charAt(i.length+1));else if(window.history&&window.history.replaceState){var o=i+"/#"+window.location.pathname;history.replaceState("",document.title,o)}else window.location="#"===n||"#/"===n?i:s;window.location=n}})},removeHash:function(){var t=window.location.protocol+"//"+window.location.host,e=/#(.*)$/,n=e.exec(hasher.getURL());n&&(window.history&&window.history.pushState?window.history.pushState("",document.title,t+n[1]):window.location=n[1])},route:function(t){function e(e,n){J.html5===!0&&J.removeHash(),t.parse(e)}hasher.initialized.add(e),hasher.changed.add(e),hasher.init()}};return t(".wysiwg").trumbowyg({autogrow:!0,btns:["bold","italic","link","unorderedList"],fullscreenable:!1,removeformatPasted:!0}),t.fn.hide=function(e){return this.each(function(){var n=t(this);return void 0===e?n.addClass("hidden"):(n.addClass("animated "+e).addClass("hidden"),n.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){n.removeClass("animated "+e)})),this})},t.fn.show=function(e){return this.each(function(){var n=t(this);return void 0===e?n.removeClass("hidden"):(n.removeClass("hidden").addClass("animated "+e),n.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){n.removeClass("animated "+e)})),this})},e}(jQuery);